<head>
    <title>Course Registration</title>
</head>

<body>
    <div id="testheader">
        <div class="container">
            <div class=row>
                <div class="col-md-5 ">
                    <a routerLink="/menu" routerLinkActive="active">
                        <h3>Student Registration</h3>
                    </a>
                </div>
                <div class="col-md-6">

                    <p>User:{{currentUser}}</p>
                    <p>Current Date :{{time}}</p>
                </div>
                <div class="col-md-1">
                    <a class="col-md-1" routerLink="/login">Logout</a>


                </div>
            </div>
        </div>

    </div>

    <div class="container">
        <div class="sidenav">


            <a routerLink="/course" routerLinkActive="active">Course Registration </a>
            <a routerLink="/studentadd" routerLinkActive="active">Student Registration </a>
            <a routerLink="/student" routerLinkActive="active">Student Search </a>
            <a routerLink="/user" routerLinkActive="active">Users Management</a>
        </div>
        <div class="main_contents">
            <div id="sub_content">
                <form class="row g-3 mt-3 ms-2">
                    <!-- <form class="row g-3 mt-3 ms-2" (ngSubmit)="onSubmit()" > -->
                    <div class="col-auto">
                        <label for="staticEmail2" class="visually-hidden">User Id</label>
                        <input type="text" class="form-control" id="staticEmail2" placeholder="User ID" name="searchId"
                            [(ngModel)]="searchId">
                        <!-- <span *ngIf="error.confirm.hasError" id="error">{{ error.confirm.msg }}</span> -->
                    </div>
                    <div class="col-auto">
                        <label for="inputPassword2" class="visually-hidden">User Name</label>
                        <input type="text" class="form-control" id="inputPassword2" placeholder="User Name"
                            name="searchName" [(ngModel)]="searchName">
                    </div>

                    <div class="col-auto">
                        <button type="submit" class="btn btn-primary mb-3">Search</button>
                    </div>
                    <div class="col-auto">
                        <a type="button" class="btn btn-secondary " routerLink="/useradd">
                            Add
                        </a>

                    </div>
                    <div class="col-auto">
                        <button type="submit" class="btn btn-danger mb-3">Reset</button>
                    </div>

                    <div class="col-auto">
                        Export to :
                        <button (click)="export(pdf)" class="btn btn-danger mb-3"
                            style="background-color: #099b6d;">PDF</button>

                    </div>

                    <div class="col-auto">

                        <button (click)="export(html)" class="btn btn-danger mb-3"
                            style="background-color: #099b6d;">HTML</button>
                    </div>
                    <div class="col-auto">

                        <!-- <button (click)="exportExcel()" class="btn btn-danger mb-3" style="background-color: #099b6d;">Excel</button> -->


                        <button (click)="export(excel)" class="btn btn-outline-success">
                            Excel
                        </button>

                    </div>


                </form>


                <table class="table table-striped" id="stduentTable">
                    <thead>
                        <tr>

                            <th scope="col">User ID</th>
                            <th scope="col">User Name</th>
                            <th scope="col">Details</th>

                        </tr>
                    </thead>
                    <tbody>



                        <tr *ngFor="let user of users | filter:searchId | filter:searchName">
                            <td>{{user.userId}}</td>
                            <td>{{user.userName}}</td>

                            <td>

                                <!-- <a type="submit" class="btn btn-success " routerLink="/userupdate" routerLinkActive="active">
                                   Update</a>
                  </td>   -->

                            <td><button (click)="updateUser(user.userId)" class="btn btn-primary"> Update</button></td>
                            <td> <button (click)="deleteUser(user.userId)" class="btn btn-secondary mb-3">
                                    Delete</button></td>


                        </tr>
                        <!-- </tr> -->




                    </tbody>
                </table>

                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Student Deletion</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                            </div>
                            <div class="modal-body">

                                <h5 style="color: rgb(127, 209, 131);">Are you sure want to delete !</h5>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-success col-md-2"
                                    data-bs-dismiss="modal">Ok</button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="testfooter">
        <span>Copyright &#169; ACE Inspiration 2022</span>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script>
        /* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
        var dropdown = document.getElementsByClassName("dropdown-btn");
        var i;

        for (i = 0; i < dropdown.length; i++) {
            dropdown[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var dropdownContent = this.nextElementSibling;
                if (dropdownContent.style.display === "block") {
                    dropdownContent.style.display = "none";
                } else {
                    dropdownContent.style.display = "block";
                }
            });
        }
    </script>
</body>